# NeoJiLang 更新日志

## [0.2.5] - 2025-06-02

### 新增功能

- 扩充了 datetime 模块，增加了更多的日期和时间处理功能：
  - `datetime.now` - 获取当前系统时间戳，支持不同时间单位（秒、毫秒、微秒、纳秒）
  - `datetime.format` - 将时间戳格式化为人类可读的字符串，支持自定义格式
  - `datetime.parse` - 解析时间字符串为时间戳，支持自定义格式和不同时间单位
  - `datetime.measure` - 测量代码执行时间，提供高精度的性能分析能力
- datetime 模块新功能的特点：
  - 灵活的时间单位支持，包括秒(s)、毫秒(ms)、微秒(us)和纳秒(ns)
  - 丰富的时间格式化选项，兼容标准的 strftime 格式说明符
  - 方便的测量机制，支持多个命名测量点，可用于分析不同代码块的执行性能
  - 完整的跨平台支持，时间处理在所有操作系统上表现一致

### 架构改进

- 增强了时间处理能力：
  - 使用 Rust 的 chrono 和标准库的时间处理工具，确保精确性和跨平台一致性
  - 添加了线程本地存储，用于安全地管理测量点数据
  - 实现了完整的参数验证和错误处理机制
- 完善了单元测试系统：
  - 为所有新功能添加了专门的测试用例
  - 测试覆盖了格式化、解析和测量功能的各种使用场景
  - 确保测量功能在不同时间单位下的准确性
- 添加了示例程序：
  - 创建了 `examples/datetime_demo.njis`，全面展示日期时间模块的所有功能
  - 提供了格式化、解析和性能测量的实际使用示例
  - 演示了如何结合循环等其他语言特性进行性能分析

### 文档改进

- 更新了 TODO 列表，标记已完成的日期时间相关功能
- 为所有新增的日期时间功能提供了详细的代码注释和参数说明
- 添加了时间格式化和解析的错误处理文档

## [0.2.4] - 2025-06-02

### 新增功能

- 实现了环境变量相关功能，提供完整的环境变量操作能力：
  - `system.env.get` - 获取指定环境变量的值，不存在时返回 `null`
  - `system.env.set` - 设置环境变量（仅当前进程有效）
  - `system.env.list` - 获取所有环境变量，返回环境变量名和值的键值对对象
- 环境变量功能的特点：
  - 操作系统环境变量的读取和设置
  - 支持多种参数格式，包括简单字符串和结构化对象
  - 简化的错误处理，确保操作安全性
  - 支持环境变量不存在时返回默认值

### 架构改进

- 创建了环境变量子模块，遵循模块化设计原则：
  - 建立了 `src/builtin/system/env/` 目录，包含所有环境变量相关处理器
  - 每个处理器负责特定的环境变量操作功能，接口设计一致
  - 使用 Rust 标准库的环境变量 API，确保跨平台兼容性
- 完善了单元测试系统：
  - 为每个环境变量功能添加了专门的测试用例
  - 测试覆盖了正常操作和错误情况处理
  - 确保所有功能在不同操作系统上正常工作
- 添加了示例程序：
  - 创建了 `examples/env_demo.njis`，展示环境变量操作的用法
  - 覆盖所有环境变量功能的不同使用方式
  - 提供了环境变量设置、获取和列出的完整示例

### 文档改进

- 更新了 TODO 列表，标记已完成的环境变量相关功能
- 为所有环境变量功能提供了详细的代码注释和使用说明
- 添加了环境变量相关命令的错误处理文档

## [0.2.3] - 2025-06-02

### 新增功能

- 实现了进程控制功能，提供完整的进程管理能力：
  - `system.process.exec` - 执行命令并等待完成，返回退出码和标准输出/错误
  - `system.process.spawn` - 启动命令但不等待，在后台执行
  - `system.process.kill` - 终止指定PID的进程
  - `system.process.pid` - 获取当前进程ID
  - `system.process.list` - 列出系统中运行的所有进程及其详细信息
- 进程控制功能的特点：
  - 所有命令支持跨平台（Windows、Linux、macOS）
  - 进程执行支持参数传递和环境变量设置
  - 提供详细的进程信息，包括PID、名称和内存使用
  - 支持同步和异步两种进程执行方式
  - 实现进程终止的安全机制

### 架构改进

- 创建了进程控制子模块，遵循模块化设计原则：
  - 建立了 `src/builtin/system/process/` 目录，包含所有进程相关处理器
  - 每个处理器负责特定的进程控制功能，接口设计一致
  - 使用 `Command` API实现进程控制，确保跨平台兼容性
  - 提供统一的命令参数解析功能，简化处理器实现
- 完善了单元测试系统：
  - 为每个进程控制功能添加了专门的测试用例
  - 使用模拟命令测试进程执行和终止功能
  - 确保所有功能在不同操作系统上正常工作
- 添加了示例程序：
  - 创建了 `examples/process_demo.njis`，展示进程控制功能的用法
  - 覆盖所有进程控制命令的不同使用方式
  - 提供了命令参数设置、后台执行和进程信息获取的示例

### 文档改进

- 更新了 TODO 列表，标记已完成的进程控制相关功能
- 为所有进程控制功能提供了详细的代码注释和使用说明
- 添加了进程控制相关命令的错误处理文档

## [0.2.2] - 2025-06-02

### 架构改进

- 重构了 system 模块的代码结构，改善模块化设计：
  - 将单一的 `system.rs` 文件拆分为多个专用文件，每个文件负责一个特定功能
  - 创建了 `src/builtin/system/` 目录，包含所有文件系统相关处理器
  - 新增了 `system/mod.rs` 文件，统一导出所有处理器和公共函数
  - 将共用辅助函数移至模块级别，便于在各处理器间共享
  - 各子模块分别负责特定功能：`exists.rs`、`is_file.rs`、`is_dir.rs`、`mkdir.rs`、`remove.rs`、`copy.rs`、`move_file.rs`和`list.rs`
- 改进了单元测试的组织结构：
  - 将测试代码分散到各个子模块中，提高可维护性
  - 每个文件系统操作的测试都位于相应的功能文件中
  - 保持了完整的测试覆盖率，确保重构不影响功能正确性
- 增强了代码可读性和可维护性：
  - 明确划分了各功能模块的职责边界
  - 简化了各个文件的内容，便于理解和修改
  - 遵循了 Rust 模块化设计的最佳实践
  - 结构与 `control_flow` 模块保持一致，提高代码库的整体一致性

## [0.2.1] - 2025-06-02

### 新增功能

- 实现了 `!system` 模块的文件系统相关功能：
  - `system.fs.exists` - 检查文件或目录是否存在
  - `system.fs.isFile` - 检查路径是否为文件
  - `system.fs.isDir` - 检查路径是否为目录
  - `system.fs.mkdir` - 创建目录，支持递归创建参数
  - `system.fs.remove` - 删除文件或目录，支持递归删除选项
  - `system.fs.copy` - 复制文件或目录，支持递归复制选项
  - `system.fs.move` - 移动或重命名文件或目录
  - `system.fs.list` - 列出目录内容，返回文件和目录信息数组

### 架构改进

- 添加了 `system` 模块，用于提供系统级操作功能：
  - 创建了 `src/builtin/system.rs` 文件，实现了 `SystemModule` 结构
  - 在 `src/builtin/mod.rs` 中注册了系统模块
  - 添加了文件系统操作处理器，每个处理器负责特定的文件操作
  - 每个文件系统操作提供了完整的错误处理和参数验证
- 添加了完整的单元测试：
  - 使用 `tempfile` 创建临时测试环境，确保测试的隔离性
  - 为每个文件系统操作添加了全面的测试用例
  - 测试覆盖了正常操作和错误情况处理
- 添加了示例程序：
  - 创建了 `examples/fs_demo.njis`，展示文件系统操作的用法
  - 示例程序涵盖了所有实现的文件系统功能

### 文档改进

- 更新了 TODO 列表，标记已完成的文件系统相关功能
- 为所有文件系统操作添加了详细的代码注释，说明参数和返回值

## [0.2.0] - 2025-06-01

### 新增功能

- 实现了模块系统(NJIM)，支持代码模块化和复用：
  - 新增`.njim`文件格式，作为独立的模块文件
  - 支持模块的导入和使用：通过`import`字段导入外部模块
  - 模块可以导出常量、函数和类型定义
  - 实现了命名空间机制，通过`namespace`字段控制模块内容的访问
  - 支持访问模块常量：`${const:模块名.常量名}`
  - 支持调用模块函数：`{"function.call": {"name": "模块名.函数名", "args": [...]}}`
  - 模块函数必须有返回值，确保明确的接口约定
  - 支持相对路径和绝对路径导入模块
  - 模块间支持依赖关系管理，自动处理模块依赖
  - NJIS（简化版）不支持外部模块导入，保持其简洁性

### 架构改进

- 添加了模块系统的核心组件：
  - 新增了`module.rs`文件，实现了模块加载和管理功能
  - 添加了`ModuleLoader`结构，负责模块的加载、缓存和解析
  - 实现了全局模块加载器单例，确保模块在程序范围内共享
  - 扩展了`Interpreter`结构，添加了对已加载模块的跟踪
- 优化了函数调用机制：
  - 增强了`call_function`方法，支持模块函数调用
  - 添加了`call_module_function`方法，处理跨模块的函数调用
  - 改进了函数查找逻辑，区分本地函数和模块函数
- 扩展了类型系统：
  - 添加了`NjimModule`和`ModuleExports`结构，定义模块的数据结构
  - 实现了模块验证机制，确保模块格式正确
  - 添加了模块路径解析功能，支持相对路径和绝对路径
- 提供了示例模块：
  - 创建了数学函数模块示例`math.njim`，包含常见数学运算函数
  - 创建了模块使用示例`module_demo.njil`，展示如何导入和使用模块

## [0.1.10] - 2025-06-01

### 新增功能

- 添加了常量系统，支持定义和使用不可变的值：
  - `const.set` - 定义单个常量，格式为 `{"const.set": {"name": "常量名", "value": 常量值}}`
  - `const.set.m` - 批量定义多个常量，使用简洁的键值对格式
  - `const` - 获取常量值，如 `{"const": "常量名"}`
  - `has_constant` - 检查常量是否存在，如 `{"has_constant": "常量名"}`，带别名 `const.has` 和 `const.exists`
  - 常量支持嵌套访问，如 `{"const": "CONFIG.timeout"}`
  - 常量一旦定义不可修改，尝试重新定义会抛出错误
  - 常量值可以是任何有效的JSON值（数字、字符串、布尔值、数组、对象等）
  - 提供 `${const:名称}` 格式在字符串中引用常量值
  - 常量在创建新解释器实例时会被保留，便于跨函数使用
  - 添加了完整的嵌套路径支持，同时支持对象属性（如`CONFIG.timeout`）和数组索引（如`COLORS[0]`）
- 添加了模块系统早期支持：
  - 实现了基础的 NJIM 模块导入功能，支持从外部文件加载模块
  - 支持模块常量和函数的导入与使用
  - 使用命名空间机制隔离模块内容，通过 `模块名.常量名` 或 `模块名.函数名` 格式访问
  - 实现了 `${const:模块名.常量名}` 格式在字符串中引用模块常量
  - 添加了模块路径解析功能，支持相对路径导入
  - 创建了数学函数模块示例 `math.njim`，提供常用数学常量和函数

### 架构改进

- 扩展了解释器结构，添加了常量存储和管理：
  - 在 `Interpreter` 结构体中添加了 `constants` 字段，用于存储常量
  - 实现了 `has_constant` 和 `get_constant` 方法，用于检查和获取常量
  - 添加了 `replace_constant_in_string` 方法，处理字符串中的常量引用
  - 常量处理器实现了对嵌套路径的支持，可以访问和设置嵌套结构中的常量
  - 常量在新解释器实例创建时会被克隆，确保常量的持久性和一致性
- 优化了常量和变量字符串引用系统：
  - 重构了字符串替换机制，分离了变量和常量的替换逻辑
  - 改进了借用检查机制，解决了字符串模板中的借用冲突问题
  - 优化了嵌套路径解析和访问，统一了对象属性和数组索引的处理
- 添加了常量系统示例：
  - 创建了 `const_demo.njis` 展示常量的基本用法
  - 演示了常量在数学计算中的应用（计算圆面积）
  - 展示了嵌套常量访问和常量不可修改的特性
- 扩展了模块系统的基础架构：
  - 添加了 `process_imports` 方法，处理模块导入语句
  - 实现了 `is_njim_module` 方法，识别和验证NJIM模块
  - 创建了 `import_njim_module` 方法，加载和处理模块内容
  - 添加了模块缓存机制，避免重复加载同一模块
  - 增强了模块解析器，支持相对路径和绝对路径的模块导入
  - 优化了函数查找逻辑，支持跨模块函数调用

### 问题修复

- 修复了字符串中常量引用的替换问题，正确处理 `${const:模块名.常量名}` 格式
- 修复了模块导入和函数调用的兼容性问题，确保模块函数可以被正确调用
- 改进了路径解析逻辑，同时使用文件路径和命名空间作为键存储模块
- 优化了函数参数格式处理，确保与算术处理器兼容
- 修复了循环指令名称错误，将 `loop` 指令正确重命名为 `loop.for`
- 解决了模块加载时路径解析错误的问题，使文件路径与命名空间正确匹配
- 优化了常量字符串替换的实现，采用更简洁的方法处理常量引用

## [0.1.9] - 2025-06-01

### 新增功能

- 添加了终端控制模块 `!shell`：
  - `shell.color` - 设置文本颜色，支持前景色、背景色和加粗效果
  - `shell.style` - 设置文本样式，如加粗、下划线和闪烁
  - `shell.style_color` - 同时设置文本颜色和样式，简化使用（带别名：`shell.cstyle`和`shell.color_style`）
  - `shell.clear_line` - 清除当前行并将光标移到行首
  - `shell.write` - 写入文本（不换行）
  - `shell.write_line` - 写入文本并换行
  - `shell.overwrite` - 清除当前行并写入新文本
  - 支持的颜色包括：`black`, `red`, `green`, `yellow`, `blue`, `magenta`, `cyan`, `white`
  - 可用于创建丰富的终端用户界面，如进度条、彩色提示信息等

- 添加了延时执行功能：
  - 新增 `sleep` 指令，支持程序执行的暂停
  - 支持毫秒、秒和分钟三种时间单位：
    - 默认以毫秒为单位，如 `{"sleep": 1000}` 暂停1秒
    - 使用对象格式可指定单位，如 `{"sleep": {"duration": 1, "unit": "s"}}` 暂停1秒
  - 提供别名 `delay` 和 `wait`，方便不同习惯的用户使用
  - 可用于实现动画效果、模拟耗时操作、限制API请求频率等场景

### 架构改进

- 扩展了内置模块系统，增加了终端控制和时间控制相关功能
- 实现了 `ShellModule` 结构体，提供一系列终端控制语句处理器
- 使用 ANSI 转义序列实现了终端颜色和样式控制
- 实现了 `SleepHandler` 处理器，负责处理延时相关指令
- 优化了解释器执行流程，确保延时不会阻塞整个程序的执行
- 添加了示例程序，展示如何使用 shell 模块创建进度条和彩色输出
- 为延时功能添加了完整的单元测试和示例程序

## [0.1.8] - 2025-06-01

### 新增功能

- 添加了日期和时间处理模块 `datetime`：
  - `datetime.date` - 获取当前日期，支持自定义格式
  - `datetime.time` - 获取当前时间，支持自定义格式
  - 提供了别名 `date` 和 `time`，方便直接使用
  - 支持多种格式化选项：
    - 默认日期格式为 `%Y-%m-%d`（YYYY-MM-DD）
    - 默认时间格式为 `%H:%M:%S`（HH:MM:SS）
    - 支持通过字符串参数直接指定格式，如 `{"date": "%d/%m/%Y"}`
    - 支持通过对象格式指定格式，如 `{"date": {"format": "%Y年%m月%d日"}}`

- 变量设置简洁模式回归：
  - 添加了 `var.set.m` 指令，支持简洁的键值对格式设置变量
  - 支持一次性设置多个变量，如 `{"var.set.m": {"name": "张三", "age": 30}}`
  - 支持设置复杂的嵌套结构，如 `{"var.set.m": {"person": {"name": "李四", "address": {"city": "北京"}}}}`
  - 支持直接修改嵌套属性，如 `{"var.set.m": {"person.name": "王五", "person.address.city": "上海"}}`
  - 提供别名 `var.m` 以便于使用
  - 保留了原有的 `var.set` 结构化格式，同时支持两种变量设置风格

### 架构改进

- 扩展了内置模块系统，增加了日期时间处理能力
- 添加了 `chrono` 依赖，提供强大的日期和时间处理功能
- 增强了测试系统，为日期和时间功能添加了单元测试
- 重构了变量设置处理器：
  - 添加了 `VarSetMultiHandler` 类，处理简洁格式的变量设置
  - 优化了 `value_to_string` 方法，正确处理嵌套变量路径的字符串插值
  - 将 `get_nested_variable` 改为公共函数，便于在不同地方复用
  - 更新了语句处理器注册系统，支持多种变量设置格式

## [0.1.7] - 2025-05-31

- 才发现 0.1.6 Release 的时候没 Push 到GitHub...
- 导致 0.1.6 Release 的 Source code 还是 0.1.5 的（但exe确实是0.1.6）
- 抱歉

### 新增功能

- 添加了JSON文件中的注释支持：
  - 支持单行注释（`// 这是单行注释`）
  - 支持多行注释（`/* 这是多行注释 */`）
  - 在解析JSON之前自动移除注释，不影响JSON的有效性
  - NJIL和NJIS格式均支持注释功能
  - 字符串内的注释符号不会被处理（如 `"这不是 // 注释"`）

### 架构改进

- 添加了预处理器模块，用于在解析JSON之前处理文件内容：
  - 实现了`Preprocessor`结构体，提供文件和内容的预处理功能
  - 添加了`preprocess_file`和`preprocess_content`方法，用于移除注释
  - 改进了错误处理，提供更友好的解析错误信息
- 优化了文件加载流程，增加了预处理步骤：
  - 修改了`Interpreter::load_file`方法，使用预处理器处理文件内容
  - 修改了NJIS相关函数，使其也支持注释功能

## [0.1.6] - 2025-05-31

### 新增功能

- 实现了函数调用功能，支持在NJIL程序中定义和调用自定义函数：
  - 新增 `function.call` 语句处理器，支持调用程序中定义的函数
  - 实现了函数参数传递机制，支持位置参数 ($1, $2, ...)
  - 支持函数返回值的处理和传递
  - 支持嵌套函数调用，如 `function.call(name="greet", args=[function.call(name="calculate", args=[5, 15])])`
  - 添加了别名 `call` 和 `func.call` 以便于使用
  - function 仅支持 NJIL（NeoJiLang） 格式，NJIS（NeoJi Script） 不支持

### 架构改进

- 增强了解释器对函数调用的支持：
  - 添加了 `call_function` 方法处理函数调用逻辑
  - 实现了 `get_function` 方法从当前程序中查找函数定义
  - 优化了 `VarSetHandler` 的实现，改进了嵌套表达式的评估逻辑
  - 扩展了 `evaluate_value` 方法以处理函数调用表达式
- 改进了函数作用域隔离，每个函数调用在独立的变量环境中执行
- 添加了 `current_program` 字段到 `Interpreter` 结构体，跟踪当前加载的程序

- 重构了算术运算模块，提高代码组织和可维护性：
  - 将算术运算处理器拆分为独立的文件，每个处理器负责特定的操作
  - 创建了专用的算术运算处理器：`add.rs`、`subtract.rs`、`multiply.rs`、`divide.rs`、`modulo.rs`和`compare.rs`
  - 优化了处理器结构，使每个处理器更专注于其特定的功能
  - 改进了算术运算处理器的错误处理机制，提供更清晰的错误信息

- 增强了比较运算功能，实现更完善的比较逻辑：
  - 新增了`math.compare`处理器，支持多种比较运算符（`==`、`!=`、`>`、`>=`、`<`、`<=`）
  - 实现了类型感知的比较逻辑，不同类型的值遵循特定的比较规则
  - 改进了数值比较的精度控制，处理浮点数比较的特殊情况
  - 增强了字符串比较功能，支持字典序比较

- 完善了取模运算功能：
  - 新增了`math.modulo`处理器，支持数值取模运算
  - 实现了专用的取模运算逻辑，提供完整的参数验证和错误处理
  - 支持被除数(dividend)和除数(divisor)参数，计算模运算的结果
  - 处理零除错误情况，返回适当的结果

- 重构了类型转换模块，提高代码组织和可维护性：
  - 将单一的 `type_convert.rs` 文件拆分为多个专用文件
  - 创建了专用的子模块：`bool_convert.rs`、`number_convert.rs`、`string_convert.rs`、`array_convert.rs`、`object_convert.rs`、`arithmetic.rs` 和 `comparison.rs`
  - 每个子模块专注于一种特定的类型转换或操作，降低了代码复杂度
  - 优化了模块间的依赖关系，提高了代码的可读性和可维护性

- 重构了控制流模块，提高代码组织和可维护性：
  - 将单一的 `control_flow.rs` 文件拆分为多个专用文件
  - 创建了专用的子模块：`if_stmt.rs`、`while_loop.rs`、`for_loop.rs`、`foreach_loop.rs` 和 `break_continue.rs`
  - 改进了语句处理器的注册机制，使用集中管理的方式统一注册控制流处理器
  - 优化了代码组织结构，便于功能扩展和维护

- 添加了条件调试输出系统，提高开发和测试体验：
  - 引入 `--njil-debug` 命令行标志，只有在启用此标志时才显示调试信息
  - 添加 `debug_println!` 宏，用于条件打印调试信息
  - 实现 `set_debug_mode` 和 `is_debug_mode` 函数，管理全局调试状态
  - 改进命令行参数解析，支持标志和选项
  - 优化了调试输出的清晰度和有用性：
    - 函数调用的参数和返回值
    - 变量设置和评估结果
    - 语句执行过程和结果

- 优化了 `AddHandler` 的实现，根据操作数类型选择适当的初始值：
  - 对于字符串和数组类型，使用第一个操作数作为初始值
  - 对于其他类型，使用数值 `0` 作为初始值
- 改进了 `type_convert::add` 函数中字符串连接的处理逻辑

### 问题修复

- 修复了变量设置和显示问题：
  - 修复了`var.set`处理器的实现，确保正确解析和设置变量
  - 改进了`value_to_string`方法，支持变量引用的解析和替换
  - 优化了字符串模板中变量引用的处理，格式为`${var:name}`
  - 解决了变量引用中的借用冲突问题，提高代码稳定性

- 修复了弱类型系统中的连接操作bug：
  - 修复了字符串连接操作（如 `"Hello, " + "World!"`）结果中出现前缀 `0` 的问题
  - 修复了数组连接操作（如 `[1,2,3] + [4,5,6]`）结果中出现前缀 `0` 的问题
  - 优化了 `math.add` 处理器中字符串和数组连接的逻辑，正确处理不同类型的操作数
  - 改进了连接操作的性能和准确性

## [0.1.5] - 2025-05-30

### 新增功能

- 增强了弱类型系统，提供更强大的类型转换和运算能力：
  - 添加了类型转换模块，支持各种类型之间的智能转换
  - 新增了一系列类型转换语句：
    - `type.convert` - 通用类型转换
    - `type.bool` - 转换为布尔类型
    - `type.number` - 转换为数字类型
    - `type.string` - 转换为字符串类型
    - `type.array` - 转换为数组类型
    - `type.object` - 转换为对象类型
    - `type.of` - 获取值的类型
  - 实现了算术运算语句，支持不同类型之间的运算：
    - `math.add` - 加法运算，支持数字相加、字符串连接、数组合并等
    - `math.subtract` - 减法运算，支持数字相减、数组元素移除等
    - `math.multiply` - 乘法运算，支持数字相乘、字符串重复等
    - `math.divide` - 除法运算，支持数字相除、字符串分割等
    - `math.modulo` - 取模运算
    - `math.compare` - 比较运算，支持各种类型的比较
  - 所有运算都支持不同类型之间的智能转换

### 架构改进

- 添加了统一的类型转换工具模块 `utils::type_convert`，提供各种类型转换功能
- 优化了语句处理器的注册机制，添加了集中初始化函数
- 改进了解释器的启动过程，确保语句处理器正确初始化
- 增强了错误处理，提供更友好的类型转换错误信息

## [0.1.4] - 2025-05-30

### 新增功能

- 添加了逻辑运算语句支持：
  - `logic.and` - 逻辑与操作，支持短路求值
  - `logic.or` - 逻辑或操作，支持短路求值
  - `logic.not` - 逻辑非操作
- 所有逻辑运算支持不同数据类型的真值判断
- 逻辑运算可以与控制流语句结合使用，增强条件表达能力
- 增强了变量访问能力，支持嵌套变量路径：
  - 支持多层对象属性访问，如 `person.address.city`
  - 支持数组索引访问，如 `hobbies[0]`
  - 支持混合嵌套路径，如 `company.departments[0].employees[1].name`
  - 支持通过嵌套路径设置变量值，自动创建中间结构
- 实现了通用的路径解析和访问系统，统一处理变量和JSON嵌套路径：
  - 创建了专用的路径解析器，支持对象属性和数组索引混合的路径
  - 添加了`utils::path`模块，提供统一的路径操作功能
- 增强了JSON操作功能，支持嵌套路径访问和修改：
  - `json.get`支持通过点表示法访问嵌套属性，如`json.get(obj, "user.profile.name")`
  - `json.set`支持通过点表示法设置嵌套属性，如`json.set(obj, "user.address.city", "北京")`
  - `json.get`和`json.set`支持数组索引访问，如`"items[0].name"`
  - 自动创建嵌套路径中的中间结构（对象或数组）
- 优化了错误处理机制，提高了用户体验：
  - 在访问不存在的嵌套路径时返回`null`而不是抛出错误
  - 为嵌套路径访问提供更友好的错误信息

### 架构改进

- 扩展了错误提示系统，添加了逻辑运算相关的错误类型
- 优化了逻辑运算的短路求值机制，提高执行效率
- 添加了完整的逻辑运算示例程序
- 重构了变量处理机制，支持更复杂的变量路径解析
- 增强了变量路径解析器，能够处理对象属性和数组索引的混合路径
- 重构了路径处理系统，采用统一的路径解析和访问机制：
  - 定义了`PathPart`枚举，统一表示对象属性和数组索引
  - 实现了`parse_path`函数，将字符串路径解析为结构化的路径部分
  - 添加了`get_nested_value`和`set_nested_value`函数，用于统一处理嵌套值的获取和设置
- 优化了打印语句处理器，改进数组参数的处理方式：
  - `print`语句现在能正确处理数组参数，将其作为字符串连接处理
  - 改进了打印功能的变量替换机制，显示更友好的输出结果

### 问题修复

- 修复了无法通过嵌套路径访问变量的问题
- 修复了无法通过数组索引访问元素的问题
- 修复了无法通过嵌套路径设置变量值的问题
- 修复了在使用`json.set`时无法正确处理嵌套路径的问题
- 修复了`json.get`在路径不存在时抛出错误而不是返回`null`的问题
- 修复了在空对象上无法创建嵌套结构的问题
- 修复了`print`处理器无法正确处理数组参数的问题，导致变量值不被替换
- 消除了代码中的编译警告，提高代码质量

## [0.1.3] - 2025-05-29

### 新增功能

- 添加了完整的控制流语句支持：
  - `if` - 条件判断语句，支持 `then` 和可选的 `else` 分支
  - `loop.while` - 条件循环，当条件为真时重复执行
  - `loop.for` - 计数循环，执行指定次数
  - `loop.foreach` - 集合遍历循环，支持数组和对象
  - `loop.break` - 跳出当前循环
  - `loop.continue` - 跳过当前循环迭代，继续下一次迭代
- 所有控制流语句支持单个语句或语句数组作为执行体
- 循环语句支持变量绑定，可以访问当前迭代的索引和值

### 架构改进

- 增强了错误处理系统，添加了循环控制相关的错误类型
- 添加了控制流相关的错误提示信息，提高调试体验
- 优化了语句执行机制，支持嵌套控制流结构

## [0.1.2] - 2025-05-29

### 新增功能

- 扩展了核心语句集，实现了JSON操作系列语句，用于创建、查询和修改JSON数据结构：
  - `json.new` - 创建新的JSON对象或数组，支持嵌套语句
  - `json.get` - 获取JSON对象的属性或数组的元素
  - `json.set` - 设置JSON对象的属性或数组的元素
  - 所有JSON操作均支持变量引用和嵌套语句，实现复杂数据处理

### 架构改进

- 优化了语句处理机制，支持对象和数组的递归处理
- 改进了核心语句集的扩展机制，使添加新语句更加简便
- 增强了错误提示系统，提供更加详细的JSON操作错误信息

## [0.1.1] - 2025-05-28

### 新增功能

- 添加了内置模块系统和动态导入机制
- 实现了IO模块，提供文件读写和标准输入输出功能：
  - `io.readFile` - 读取文件内容，支持编码选项（UTF-8, GB2312/GBK）
  - `io.writeFile` - 写入文件，支持编码选项（UTF-8, GB2312/GBK）
  - `io.readLine` - 读取一行输入
  - `io.input` - 显示提示并读取输入
- 增强了NJIL导入系统，支持内置模块的导入
- NJIS现在会自动导入所有内置模块，无需显式声明
- 为两种文件格式添加了不同的模块加载策略：
  - NJIL: 按需加载，通过`import`语句显式声明
  - NJIS: 自动加载所有内置模块，简化使用
- 添加了通用内容解析方法，统一处理变量引用和表达式

### 架构改进

- 设计了`BuiltinModule`特性，统一内置模块的接口
- 实现了`BuiltinModuleRegistry`，用于管理和查找内置模块
- 增强了解释器，支持动态加载模块和处理导入语句
- 改进了语句注册系统，支持动态注册处理器

## [0.1.0] - 2025-05-28

### 新增功能

- 实现了基本的NJIL解释器框架
- 添加了核心语句处理功能：
  - `print` - 打印语句输出
  - `var` - 变量获取
  - `var.set` - 变量设置
  - `return` - 返回值处理
  - `string.concat` 和 `txtlink` - 字符串连接操作
- 引入了模块化的语句处理系统，使用`StatementHandler`特质
- 实现了动态语句处理器注册机制，支持语句别名
- 添加了集中式错误提示管理系统，便于国际化和维护
- 支持从文件加载和执行NJIL程序
- 添加了NJIS (NeoJi Script) 格式支持，使用`.njis`扩展名
  - NJIS是一种简化版的NJIL，使用JSON数组直接表示语句序列
  - 自动识别文件扩展名并选择适当的解析器

### 架构改进

- 采用模块化设计，将不同类型的语句处理逻辑分离到独立模块
- 使用特质（trait）定义统一的语句处理接口
- 实现了静态单例模式的语句处理器，提高性能
- 使用`OnceLock`实现线程安全的全局语句注册表
- 错误提示信息集中管理，便于维护和国际化